# 产品需求文档（PRD）  
## 项目名称  
基于爬虫和大模型的用户反馈结构化解析系统  

## 版本  
V2.0  

## 背景
从各大汽车评论网站上，爬取用户用车评论数据，通过文本嵌入模型，进行文本拆解，与向量数据库中的功能模块进行相似度匹配，匹配到最相关的功能模块后，统一交给大模型做精准结构化解析。

---

## 目标  
- 自动爬取第三方渠道车型用户反馈文本  
- 通过文本拆解与嵌入，结合功能模块语义匹配，实现精准模块定位  
- 利用大模型对定位后的文本进行结构化信息抽取  
- 存储结构化结果，支持多条件查询和数据统计  
- 支持增量爬取和解析，保证数据持续更新  

---

## 用户角色  
- 系统管理员：维护渠道配置，监控任务状态  
- 开发人员：维护系统，调优模型解析流程  
- 终端用户：提交车型和渠道，触发爬取和解析流程  

---

## 功能需求  

### 1. 用户输入管理  
- 支持输入品牌、车型、渠道列表  
- 支持增量查询，避免重复爬取  

### 2. 爬虫模块  
- 根据输入参数异步启动爬取任务  
- 爬取结果存储原始文本和爬取批次信息  

### 3. 文本拆解与嵌入  
- 根据策略将原始评论文本拆解成多个句子或片段  
- 利用文本嵌入模型生成每个片段的向量表示  

### 4. 功能模块语义匹配  
- 维护功能模块的预定义文本描述向量库  
- 对每个文本片段与功能模块向量计算语义相似度  
- 选取相似度最高的功能模块，作为后续结构化解析的上下文  

### 5. 大模型结构化解析  
- 结合相似功能模块信息，将文本片段交给大模型  
- 提取结构化字段（如场景、情感、具体反馈点等）  
- 生成结构化数据记录  

### 6. 数据存储  
- 存储原始评论、拆解片段、嵌入向量、匹配模块、结构化结果等  
- 支持历史爬取批次追溯  

### 7. 查询与报表  
- 多条件查询（车型、渠道、功能模块等）  
- 统计各功能模块下的反馈数量、情感分布  
- 支持可视化展示（饼图、柱状图）  

### 8. 系统运维  
- 任务管理（启动、停止、状态监控）  
- 日志管理和异常报警  

---

## 关键数据流程  

```mermaid
flowchart TD
  A[用户输入车型/渠道] --> B[爬虫异步爬取评论]
  B --> C[评论文本拆解成片段]
  C --> D[文本嵌入模型生成向量]
  D --> E[功能模块向量库语义匹配]
  E --> F[选取相似度最高功能模块]
  F --> G[大模型结构化解析]
  G --> H[结构化数据存储]
  H --> I[多条件查询和统计报表]